(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[190],{3080:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cart",function(){return n(5802)}])},5802:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var r=n(5893),s=n(7294),i=n(9021),a=n(3935),l=function(){var e=(0,s.useContext)(i.j);return a.createPortal((0,r.jsx)("div",{className:"notif",children:(0,r.jsxs)("div",{className:"notif-container ".concat(e.notif.status),children:[(0,r.jsx)("h1",{className:"notif-title",children:e.notif.title}),(0,r.jsx)("p",{className:"notif-message",children:e.notif.message})]})}),document.getElementById("notification"))},c=function(){var e=(0,s.useRef)(),t=(0,s.useRef)(),n=(0,s.useRef)(),a=(0,s.useContext)(i.j),c=function(r){r.preventDefault(),a.setNotif({status:"pending",title:"Loading",message:"Loading..."});var s=e.current.value,i=t.current.value,l=n.current.value,c=new Date().getTime(),o=a.cartItems,u=a.calcTotal(),d=u.totalAmount,f=u.totalPrice;try{if(""===s.trim()||""===l.trim()||""===l.trim())throw Error("please fill up the form");if(0===o.length)throw Error("you havent order Any thing");fetch("/api/buying",{method:"POST",body:JSON.stringify({id:c,name:s,email:i,address:l,totalPrice:f,totalAmount:d,orders:o}),headers:{"Content-Type":"application/json"}}).then(function(e){return e.json().then(function(e){return console.log(e)})}),e.current.value="",t.current.value="",n.current.value="",a.clearCart(),a.setNotif({status:"success",title:"Successfuly",message:"Successful"})}catch(m){console.log(m),a.setNotif({status:"error",title:"Error",message:m.message})}};return(0,r.jsxs)("div",{className:"formcontainer",children:[(0,r.jsxs)("form",{className:"form",children:[(0,r.jsxs)("div",{className:"form-line",children:[(0,r.jsx)("label",{htmlFor:"fullname",children:"fullname:"}),(0,r.jsx)("input",{ref:e,type:"text",id:"fullname"})]}),(0,r.jsxs)("div",{className:"form-line",children:[(0,r.jsx)("label",{htmlFor:"email",children:"email:"}),(0,r.jsx)("input",{ref:t,type:"text",id:"email"})]}),(0,r.jsxs)("div",{className:"form-line",children:[(0,r.jsx)("label",{htmlFor:"addres",children:"addres:"}),(0,r.jsx)("textarea",{ref:n,id:"addres"})]}),(0,r.jsxs)("div",{className:"form-action",children:[(0,r.jsx)("button",{onClick:c,children:"confirm"}),(0,r.jsx)("button",{children:"Cancel"})]})]}),a.notif&&(0,r.jsx)(l,{})]})},o=n(5383),u=function(){var e=(0,s.useContext)(i.j);return(0,r.jsx)("div",{children:(0,r.jsx)("ul",{children:e.cartItems.length>0&&e.cartItems.map(function(e){return(0,r.jsx)(o.Z,{item:e},e.id)})})})},d=function(){return(0,r.jsxs)("div",{className:"card",children:[(0,r.jsx)(u,{}),(0,r.jsx)(c,{})]})}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=3080)}),_N_E=e.O()}]);